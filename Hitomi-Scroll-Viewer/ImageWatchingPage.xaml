<Page
    x:Class="Hitomi_Scroll_Viewer.ImageWatchingPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid x:Name="MainGrid">
        <ScrollViewer x:Name="MainScrollViewer" KeyDown="HandleKeyDown" IsTabStop="True" ViewChanging="HandleScrollViewChange">
            <StackPanel x:Name="ImageContainer" Orientation="Vertical"/>
        </ScrollViewer>
        <CommandBar x:Name="TopCommandBar"
                    ClosedDisplayMode="Minimal"
                    OverflowButtonVisibility="Collapsed"
                    HorizontalAlignment="Center"
                    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
            <AppBarButton MinWidth="50"
                          Icon="Back"
                          Label="Go Back"
                          Click="HandleGoBackBtnClick"
                          IsTabStop="False"
                          />
            <AppBarSeparator MinWidth="30"/>
            <AppBarButton x:Name="ViewModeBtn"
                          MinWidth="120"
                          Icon="ViewAll"
                          Label="Change View Mode"
                          Click="HandleViewModeBtnClick"
                          IsEnabled="False"
                          IsTabStop="False"
                          />
            <AppBarSeparator MinWidth="30"/>
            <AppBarButton x:Name="BookmarkBtn"
                          x:FieldModifier="public"
                          MinWidth="140"
                          Icon="Save"
                          IsEnabled="False"
                          IsTabStop="False"
                          />
            <AppBarSeparator MinWidth="30"/>
            <AppBarElementContainer>
                <Slider x:Name="ImageScaleSlider"
                        StepFrequency="0.01"
                        TickFrequency="0.01"
                        Value="0.5"
                        Minimum="0.1"
                        Maximum="1.5"
                        MinWidth="240"
                        Header="Image Size"
                        FontSize="14"
                        ValueChanged="ChangeImageSize"
                        IsEnabled="False"
                        IsTabStop="False"
                        />
            </AppBarElementContainer>
            <AppBarSeparator MinWidth="30"/>
            <AppBarElementContainer>
                <Slider x:Name="ScrollSpeedSlider"
                        MinWidth="240"
                        FontSize="14"
                        ValueChanged="SetScrollSpeed"
                        IsEnabled="False"
                        IsTabStop="False"
                        />
            </AppBarElementContainer>
            <AppBarSeparator MinWidth="30"/>
            <AppBarToggleButton x:Name="AutoScrollBtn"
                                MinWidth="90"
                                IsChecked="{x:Bind _isAutoScrolling, Mode=TwoWay}"
                                Click="HandleAutoScrollBtnClick"
                                IsEnabled="False"
                                IsTabStop="False"
                                />
            <AppBarToggleButton x:Name="LoopBtn"
                                IsChecked="{x:Bind _isLooping, Mode=TwoWay}"
                                Label="Toggle Loop"
                                Icon="RepeatAll"
                                MinWidth="90"
                                IsTabStop="False"
                                />
            <AppBarSeparator MinWidth="30"/>
            <AppBarButton x:Name="ReloadBtn"
                          Label="Reload Gallery"
                          Icon="Sync"
                          MinWidth="90"
                          Click="HandleReloadBtnClick"
                          IsEnabled="False"
                          IsTabStop="False"
                          />
            <AppBarSeparator MinWidth="30"/>
            <AppBarElementContainer>
                <ComboBox x:Name="MaxCncrRequestSelector"
                          Header="Max concurrent requests"
                          MaxWidth="120"/>
            </AppBarElementContainer>
        </CommandBar>
        <TextBlock x:Name="PageNumDisplay" Visibility="Collapsed"
                   HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0 100 0 0"/>
        <ProgressBar x:Name="LoadingProgressBar"
                     VerticalAlignment="Top" Minimum="0" Maximum="100" Value="0"
                     Visibility="Collapsed"/>
    </Grid>
</Page>
